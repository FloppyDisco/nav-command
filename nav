#! /bin/zsh

# |------------------------------------|
# |        nav commandline tool        |
# |------------------------------------|


#   Check that "files" = the filepath where nav-command is stored on your machine
#    - it should start with your home folder and end in /nav-command/
# ---------------------------------------------------------------------------------
files=/Users/joshuapaul/01_code/04_scripts/nav-command/
# ---------------------------------------------------------------------------------


#   default values
# ------------------

path=`PWD`
command="save"
shortcut=""

# |---------------------------|
# |        Handle Args        |
# |---------------------------|

while [[ $# -gt 0 ]]
do case $1 in

-o|--open|open)
command="open"
;;

-d|--delete|delete)
command="delete"
shortcut="$2"
shift
;;

-p|--path|path)
path="$2"
shift
;;

-s|--save|save)
shortcut="$2"
shift
;;

esac
shift
done

if [[ $shortcut == "" ]]
then
  shortcut=$1
fi

#   delete
# ----------

if [ -f $files$shortcut.nav ]
then
  rm $files$shortcut.nav
  echo "[nav] $shortcut deleted"
fi

#   open
# --------

if [[ $command == open ]]
then
  echo opening nav command...
  code $files
  exit
fi


# |------------------------------------|
# |        Create Shortcut File        |
# |------------------------------------|

# change logic to check if path starts with .
# change logic to check if path starts with ~


echo "cd $path" >> $files$shortcut.nav
